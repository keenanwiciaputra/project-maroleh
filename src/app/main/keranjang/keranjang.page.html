<ion-header >
  <ion-toolbar color="light" mode="ios">
    <ion-title>
      Keranjang
    </ion-title>
    <ion-buttons slot="start">
      <ion-back-button text="" defaultHref="main"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item class="cart-img" lines="full" style="width:100%;display: flex;flex-direction: column;margin-top: 5px" *ngFor="let item of query; let i = index">
    <img style=" vertical-align:top;max-width:70px; min-width:70px;margin-top: 15px;margin-right: 10px;margin-left: 10px" src="{{ item[0].img1 }}">

    <div style="width: 100%">
      <ion-grid>
        <ion-row>
          <span style="font-size:14px;margin-top:6px;margin-bottom:10px;font-weight: bold">
            {{ item[0].nama }}
          </span>
        </ion-row>
        <ion-row>
          <span style="margin-bottom:10px;font-size: small;">
            {{ item[0].khas }}
          </span>
        </ion-row>
        <ion-row>
          <span style="font-weight: bold;color:orange;font-size: medium;">
            RP. {{ item[0].harga }}
          </span>
        </ion-row>

        <ion-row style="margin-top: 10px;margin-bottom:5px;" class="cart-delete">
          <ion-buttons style="z-index: 3;" (click)="deleteCart(item[0].id, i)">
          <ion-icon style="vertical-align:-4px; zoom:1.2;" name="trash" ></ion-icon>
          </ion-buttons>

          <ion-buttons (click)="decrementQty(item[0].id, item[0].qty, i)" style="margin-left:auto;z-index:3;">
          <ion-icon style="z-index: 3;zoom:1.2;" name="remove-circle" ></ion-icon>
          </ion-buttons>
          <ion-text style="width:40px;z-index: 3;text-align:center;margin-left:5px;margin-right:5px;padding:0px" lines="full">
            {{ item[0].qty }}</ion-text>
          <ion-buttons (click)="incrementQty(item[0].id, item[0].qty, i)" style="z-index: 3;">
          <ion-icon style="z-index: 3;zoom:1.2;" name="add-circle" ></ion-icon>
          </ion-buttons>

        </ion-row>
      </ion-grid>
    </div>
  </ion-item>


</ion-content>
<ion-footer style="background-color: white">
  <div style="background-color:white;box-shadow: 0px 0 10px rgba(0, 0, 0, 0.2); width: 100%; height: 170px">
    <ion-card style="padding:15px">
      <ion-row style="width: 100%">
      <ion-icon style="vertical-align:middle;zoom:1.5;" name="ticket-outline" ></ion-icon>
      <ion-text style="vertical-align:middle; margin-left: 15px;">Gunakan kupon</ion-text>
      <ion-icon color="light" style="margin-left:auto;vertical-align:middle;zoom:1.5;" name="chevron-forward-outline"></ion-icon>
      </ion-row>
    </ion-card>


    <ion-grid style="padding:0px;">
      <ion-row style="padding:0px;align-items: center">
        <ion-icon color="light" style="vertical-align:middle;  margin-left:15px;vertical-align:middle;" name="star" ></ion-icon>
        <ion-text style="color:black;vertical-align:middle;font-size: 15px;margin-left: 10px">Poin</ion-text>
        <ion-text style="color:black;width:30%;vertical-align:middle;font-size: 15px;margin-left: 5px">(0)</ion-text>
        <ion-toggle color="light" style="margin-left: auto"></ion-toggle>
      </ion-row>
      <ion-row style="margin-top:5px;">
        <div style="width: 60%;">
          <div style="margin-left:15px;color:black;font-size: small;">
            Total Harga
          </div>
          <div style="margin-top: 5px;margin-left:15px;font-weight: bold;color:orange;font-size: medium;">
            Rp {{ total }}
          </div>
        </div>
        <ion-button style="margin-left:auto;margin-right: 10px" routerLink="/main/tabs/keranjang/keranjang-detail"  color="light" class="round-button" [disabled]="validateKeranjang">Beli</ion-button>
      </ion-row>
    </ion-grid>
  </div>
</ion-footer>
